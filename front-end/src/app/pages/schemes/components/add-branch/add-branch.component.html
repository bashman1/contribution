<app-card [title]="'Add Contribution Scheme'">
    <p-messages [closable]="true" key="message"></p-messages>
    <form (ngSubmit)="submitForm()" [formGroup]="form">
        <div class="formgrid grid">
            <div class="col-6 md:col-12 col-xs-12">
                <label for="hierarchy_id">Hierarchy</label>
                <p-dropdown [filter]="true" [options]="schemehierarchies" [showClear]="true"
                            [style]="{'display': 'flex'}"
                            dataKey="id"
                            filterBy="name" formControlName="hierarchy_id"
                            id="hierarchy_id" optionLabel="name" optionValue="id"
                            placeholder="Select hierarchy">
                    <ng-template let-hierarchy pTemplate="item">
                        <div>{{hierarchy?.name}}</div>
                    </ng-template>
                </p-dropdown>
                <span *ngIf="formErrors.hierarchy_id"
                      class="text-danger text-left">{{ formErrors.hierarchy_id }}</span>
            </div>
            <div *ngIf="branches.length>1" class="col-6 md:col-12 col-xs-12">
                <label for="parent_branch">Parent Branch</label>
                <p-dropdown [filter]="true" [options]="branches" [showClear]="true"
                            [style]="{'display': 'flex'}"
                            dataKey="id"
                            filterBy="name" formControlName="parent_branch"
                            id="parent_branch" optionLabel="name" optionValue="id"
                            placeholder="Select Parent Branch">
                    <ng-template let-branch pTemplate="item">
                        <div>{{branch?.name}}</div>
                    </ng-template>
                </p-dropdown>
                <span *ngIf="formErrors.parent_branch"
                      class="text-danger text-left">{{ formErrors.parent_branch }}</span>
            </div>
            <div class="field col-6 md:col-12 col-xs-12">
                <label for="name">Name</label>
                <input (blur)="validateSchemeForm()" class="w-full" formControlName="name"
                       id="name"
                       pInputText type="text">
                <span *ngIf="formErrors.name"
                      class="text-danger text-left">{{ formErrors.name }}</span>
            </div>
            <div class="field col-6 md:col-12 col-xs-12">
                <label for="contact_person">Contact Person</label>
                <input (blur)="validateSchemeForm()" class="w-full" formControlName="contact_person"
                       id="contact_person"
                       pInputText type="text">
                <span *ngIf="formErrors.contact_person"
                      class="text-danger text-left">{{ formErrors.contact_person }}</span>
            </div>
            <div class="field col-6 md:col-12">
                <label for="phone">Phone</label>
                <input (blur)="validateSchemeForm()" class="w-full" formControlName="phone" id="phone"
                       pInputText
                       type="text">
                <span *ngIf="formErrors.phone"
                      class="text-danger text-left">{{ formErrors.phone }}</span>
            </div>
            <div class="field col-6 md:col-12">
                <label for="email">Email</label>
                <input (blur)="validateSchemeForm()" class="w-full" formControlName="email" id="email"
                       pInputText
                       type="text">
                <span *ngIf="formErrors.email"
                      class="text-danger text-left">{{ formErrors.email }}</span>
            </div>
            <div class="field col-6 ">
                <label for="location">Location</label>
                <input (blur)="validateSchemeForm()" class="w-full" formControlName="location" id="location"
                       pInputText type="text">
                <span *ngIf="formErrors.location"
                      class="text-danger text-left">{{ formErrors.location }}</span>
            </div>
        </div>
        <div class="formgrid grid submit">
            <p-button icon="pi pi-check" iconPos="right" label="Submit" type="submit"></p-button>
        </div>
    </form>
</app-card>
